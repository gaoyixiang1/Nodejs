# Nodejs
> 基于node构建的简单新闻站点(仿写hackernews)

## 简单思路

---
### 设计路由
`针对不同的url请求，做出不同的响应`

 **GET** 
- 当用户请求 / 或 /main 时，显示主页   
- 当用户请求 /detail 时，显示新闻详情
- 当用户请求 /submit 时，显示添加新闻页面

**POST**
- 当用户请求 /add 时，将用户提交的内容添加到本地文件中

---
### 各个页面功能

#### 主页：
1. 跳转到各个页面的导航栏
2. 打开时，从本地文件读取新闻，并显示


**问题**
1. 如何访问到本地文件，并显示到主页中去

#### submit：
1. 提交标题
2. 提交内容
3. 提交按钮

**问题**
1. 如何将添加的新闻做为信息，发起一个请求(get,post)
2. 提交内容后，将其添加到本地文件(不覆盖原有信息)
3. 如何处理 get，post 这两者请求(获取数据,并转化成需要的格式)

### item：
1. 显示对应的新闻详情

**问题**
1. 如何对应每一个新闻与页面

### Tips:

1. 如何封装一个异步函数
2. 关于模块加载


  > 所有模块在加载完毕后会有缓存,二次加载时直接读取缓存，被加载的模块会被执行一次

  > 每次加载模块先在缓存区中查找,缓存区没有时,按照以下规则加载

  > 当加载请求为路径时(以 `./` 或 `../` 开始):
  - 有后缀时: 查找对应目录下的对应文件
  - 没有后缀时: 默认查找顺序为(`./src/function`):
    * 先查找路径下的文件: **function.js -> function.json -> function.node** 
    * 再查找路径下function文件夹:
      **package.json -> main(模块入口) -> 入口文件(index.js / index.json /index.node)**
    * 若皆无结果,返回加载失败

  > 当加载的请求为模块时(只有模块名):
  - 先在核心模块中查找该模块
  - 再去当前路径下的`node_modules`中查找该模块(第三方模块)

